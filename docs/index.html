<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estimate Sample Size Based on Precision Rather than Power • precisely</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Estimate Sample Size Based on Precision Rather than Power">
<meta property="og:description" content="Estimate sample size based on precision rather than
    power. precisely is a study planning tool to calculate sample size
    based on precision. Power calculations are focused
    on whether or not an estimate will be statistically significant;
    calculations of precision are based on the same principles as power
    calculation but turn the focus to the width of the confidence
    interval. precisely is based on the work of Rothman and Greenland 
    (2018) &lt;doi: 10.1097/EDE.0000000000000876&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">precisely</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="/reference/index.html">Reference</a>
</li>
<li>
  <a href="/articles/introduction-to-precisely.html">An Introduction to precisely</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/malcolmbarrett/precisely/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="precisely-an-r-package-for-estimating-sample-size-based-on-precision" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#precisely-an-r-package-for-estimating-sample-size-based-on-precision" class="anchor"></a>precisely: An R package for estimating sample size based on precision</h1></div>
<p>precisely is a study planning tool to calculate sample size based on precision rather than power. Power calculations are focused on whether or not an estimate will be statistically significant; calculations of precision are based on the same principles as power calculation but turn the focus to the width of the confidence interval.</p>
<p>This package includes a Shiny app to help with calculations, which you can start with <code><a href="reference/launch_precisely_app.html">launch_precisely_app()</a></code>. You can also find a live version at <a href="https://malcolmbarrett.shinyapps.io/precisely/">malcolmbarrett.shinyapps.io/precisely</a>.</p>
<p>For more, see the <a href="http://precisely.malco.io/articles/introduction-to-precisely.html">vignette</a>.</p>
<p>These tools are based on the work of <a href="https://www.ncbi.nlm.nih.gov/pubmed/29912015">Rothman and Greenland</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You precisely from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"precisely"</span>)</pre></div>
<p>You can install the development version of precisely with:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"malcolmbarrett/precisely"</span>)</pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>precisely has functions for studies using risk differences, risk ratios, rate differences, rate ratios, and odds ratios. The heart of these calculations is the desired precision. For ratio measures, this is the ratio of the upper to lower limit of the confidence interval. For difference measures, this is the absolute width of the confidence interval. To calculate sample size for a given precision, you also need proportions for the two groups (the risk or rate in the exposed and unexposed participants in a cohort study or the exposure prevalence in the cases and controls in case-control studies), the ratios of the two groups (the unexposed to the exposed in cohort studies or controls to cases in case-control studies), and the desired confidence interval probability. The default is 95%.</p>
<p>Let’s say we want to calculate the sample size needed to estimate a 90% CI for a risk difference of .1 with an absolute width of .08. Here, the risk among the exposed is .4, the risk among the unexposed is .3, and there are three times as many unexposed participants.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">precisely</span>)

<span class="fu"><a href="reference/n_risk_difference.html">n_risk_difference</a></span>(
  <span class="kw">precision</span> <span class="kw">=</span> <span class="fl">.08</span>,
  <span class="kw">exposed</span> <span class="kw">=</span> <span class="fl">.4</span>,
  <span class="kw">unexposed</span> <span class="kw">=</span> <span class="fl">.3</span>,
  <span class="kw">group_ratio</span> <span class="kw">=</span> <span class="fl">3</span>,
  <span class="kw">ci</span> <span class="kw">=</span> <span class="fl">.90</span>
)
<span class="co">#&gt; # A tibble: 1 x 9</span>
<span class="co">#&gt;   n_exposed n_unexposed n_total risk_difference precision exposed unexposed</span>
<span class="co">#&gt;       &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1      524.       1573.   2097.             0.1      0.08     0.4       0.3</span>
<span class="co">#&gt; # … with 2 more variables: group_ratio &lt;dbl&gt;, ci &lt;dbl&gt;</span></pre></div>
<p>precisely also provides functionality to calculate the precision of an estimate given a sample size and to calculate sample size based on probability that the upper limit of the confidence interval is below a level of concern.</p>
<p>To calculate several values and plot them, use <code><a href="reference/map_precisely.html">map_precisely()</a></code> and the included <code>plot_*()</code> functions.</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyverse</span>)

<span class="fu"><a href="reference/map_precisely.html">map_precisely</a></span>(
  <span class="no">upper_rate_ratio</span>,
  <span class="kw">upper_limit</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">1.5</span>, <span class="fl">2.5</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="fl">.1</span>),
  <span class="kw">prob</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="fl">.50</span>, <span class="fl">.95</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="fl">.05</span>),
  <span class="kw">exposed</span> <span class="kw">=</span> <span class="fl">.01</span>,
  <span class="kw">unexposed</span> <span class="kw">=</span> <span class="fl">.01</span>,
  <span class="kw">group_ratio</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">4</span>
 ) <span class="kw">%&gt;%</span>
  <span class="fu">group_by</span>(<span class="st">"Probability"</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="no">prob</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="reference/plot_sample_size.html">plot_upper_limit</a></span>(<span class="kw">line_size</span> <span class="kw">=</span> <span class="fl">1</span>) +
    <span class="fu">scale_color_viridis_d</span>() +
    <span class="fu">scale_x_continuous</span>(<span class="kw">breaks</span> <span class="kw">=</span> <span class="kw pkg">scales</span><span class="kw ns">::</span><span class="fu"><a href="https://scales.r-lib.org//reference/breaks_pretty.html">pretty_breaks</a></span>(<span class="fl">3</span>)) +
    <span class="fu"><a href="reference/theme_precisely.html">theme_precisely</a></span>() +
    <span class="fu">theme</span>(<span class="kw">legend.position</span> <span class="kw">=</span> <span class="st">"right"</span>) +
    <span class="fu">facet_wrap</span>(~ <span class="no">group_ratio</span>,
               <span class="kw">labeller</span> <span class="kw">=</span> <span class="fu">as_labeller</span>(<span class="kw">function</span>(<span class="no">x</span>) <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Unexposed/Exposed:"</span>, <span class="no">x</span>)))</pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the precisely project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=precisely">https://​cloud.r-project.org/​package=precisely</a>
</li>
<li>Browse source code at <br><a href="https://github.com/malcolmbarrett/precisely/">https://​github.com/​malcolmbarrett/​precisely/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/malcolmbarrett/precisely/issues">https://​github.com/​malcolmbarrett/​precisely/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://malco.io">Malcolm Barrett</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0299-5825" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/malcolmbarrett/precisely"><img src="https://travis-ci.org/malcolmbarrett/precisely.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/malcolmbarrett/precisely"><img src="https://ci.appveyor.com/api/projects/status/github/malcolmbarrett/precisely?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/gh/malcolmbarrett/precisely?branch=master"><img src="https://codecov.io/gh/malcolmbarrett/precisely/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=precisely"><img src="https://www.r-pkg.org/badges/version/precisely" alt="CRAN status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://malco.io">Malcolm Barrett</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
